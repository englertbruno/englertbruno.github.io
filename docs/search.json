[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html",
    "href": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html",
    "title": "2D Physics of The Inverted Pendulum on a Cart",
    "section": "",
    "text": "The system we are going to describe consists of an inverted pendulum mounted on a motorized cart. This is very similar when you want to try keep the broom upwards on the tip of your finger. But why is it challenging?\nThe problem is inherently unstable. Like our broomstick, once it starts to move away from its equilibrium position (straight up), gravity works to accelerate its fall. The system is also non-linear. The relation between inputs (force we exert on the broomstick) and outputs (the broomstick‚Äôs angle) isn‚Äôt directly proportional. That makes predicting and controlling its behavior a beautiful puzzle. This system is a classic example of a nonlinear and inherently unstable setup, but it‚Äôs also simple enough to understand and simulate.\nTo make our life easier, let‚Äôs consider a simplified two-dimensional case. This system consists of two parts: the cart and the pendulum. The cart can only move horizontally, and the pendulum can freely swing back and forth. We can control the system by applying a horizontal force, \\(F\\), on the cart. We get feedback from the system in the form of three observations: the angle of the pendulum, the angular velocity and its angular acceleration. Using the equations of motions can help us understand how to control and balance such a system.\n\n\n\nForces on the cart. Red denotes forces exerted on the cart, while green forces denote forces exerted on the pendulum. ‚Äòx‚Äô is the position of the cart."
  },
  {
    "objectID": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html#carts-motion",
    "href": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html#carts-motion",
    "title": "2D Physics of The Inverted Pendulum on a Cart",
    "section": "Cart‚Äôs Motion",
    "text": "Cart‚Äôs Motion\nLet‚Äôs start with the motion of the cart. When we push the cart, it experiences several forces: its own inertia due to its mass ‚ÄúM,‚Äù a damping factor ‚Äúb‚Äù related to friction, and the force ‚ÄúN‚Äù coming from the pendulum.\n\\[\\begin{equation}\n    M\\ddot{x}+b\\dot{x}+N = F\n\\end{equation}\\]\n\n\\(M\\) is the mass of the cart.\n\\(b\\) friction coefficient.\n\\(\\dot{x}\\) is the velocity of the cart.\n\\(\\ddot{x}\\) is the acceleration of the cart.\n\\(N\\) is the reaction force from the pendulum.\n\\(F\\) is the force we apply to the cart.\n\nThe term \\(M\\ddot{x}\\) represents the force due to the cart‚Äôs acceleration. Essentially, Newton‚Äôs second law tells us that the force exerted on an object is directly proportional to its mass and acceleration.\nThe next term, \\(b\\dot{x}\\), accounts for the force opposing the cart‚Äôs movement, primarily due to friction. The friction coefficient, \\(b\\), quantifies the amount of resistive force the cart faces, which increases with the cart‚Äôs velocity \\(\\dot{x}\\). So, the faster the cart is moving, the greater the friction force it encounters.\nLastly, \\(N\\) is the reaction force exerted by the pendulum on the cart. As the pendulum swings, it applies a force on the cart, which the cart must counteract to maintain balance. We don‚Äôt know \\(N\\) yet, that‚Äôs why we just noted it with an arbitrarily chosen letter. In the following section we are determining the value \\(N\\) takes.\nNote that we only summed the forces on the horizontal axis. You can also sum the forces in the vertical direction for the cart, but since the cart is unable to move vertically, this is unnecessary."
  },
  {
    "objectID": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html#pendulums-motion",
    "href": "posts/1_inverted_pendulum/englert_ai_1_cart_physics.html#pendulums-motion",
    "title": "2D Physics of The Inverted Pendulum on a Cart",
    "section": "Pendulum‚Äôs Motion",
    "text": "Pendulum‚Äôs Motion\nWhen discussing the motion of the pendulum, it‚Äôs crucial to consider both the horizontal and vertical forces acting on it. This is because the pendulum, unlike the cart, can move in both directions due to its rotational nature.\n\nHorizontal\nThe horizontal forces acting on the pendulum are captured by the equation:\n\\[\\begin{equation}\nN = m\\ddot{x}+ml\\ddot{\\theta}\\cos\\theta-ml\\dot{\\theta}^2\\sin\\theta\n\\end{equation}\\]\n\n\\(m\\) is the mass of the pendulum.\n\\(l\\) is the length of the pendulum.\n\\(\\theta\\) is the angle of the pendulum.\n\\(\\dot{\\theta}\\) is the angular velocity\n\\(\\ddot{\\theta}\\) is the angular acceleration.\n\\(N\\) is the pendulum‚Äôs reaction force.\n\nThis equation essentially describes how the pendulum‚Äôs motion is influenced by the cart‚Äôs movement and its own inertia. The term \\(m\\ddot{x}\\) is the force exerted on the pendulum due to the acceleration of the cart. The term \\(ml\\ddot{\\theta}\\cos\\theta\\) describes the force on the pendulum due to its own angular acceleration, while ‚àí\\(ml\\dot{\\theta}^2\\sin\\theta\\) accounts for the centrifugal force acting on the pendulum as it swings.\nNow, we can substitute this back in to the cart‚Äôs equation, which gives us: \\[\\begin{equation}\n    (M+m)\\ddot{x}+b\\dot{x}+ml\\ddot{\\theta}\\cos\\theta-ml\\dot{\\theta}^2\\sin\\theta=F\n\\label{eq:horizontal}  \\tag{1}\n\\end{equation}\\]\n\n\nVertical\nSo far we only dealt with the horizontal forces. To get the vertical forces for this system, we sum the forces perpendicular to the pendulum:\n\\[\\begin{equation}\nP\\sin\\theta+N\\cos\\theta-mg\\sin\\theta=ml\\ddot{\\theta}+m\\ddot{x}\\cos\\theta\n\\end{equation}\\]\n\n\\(P\\) is the vertical component the cart is pushing back on the pendulum.\n\\(g\\) is the acceleration due to gravity.\n\nIn this equation, \\(P\\) is the vertical component of the reaction force with which the cart pushes back on the pendulum. The gravitational force acting on the pendulum is represented by \\(mg\\sin\\theta\\), which tries to pull the pendulum downward. The right side of the equation relates to the forces due to the pendulum‚Äôs angular acceleration and the cart‚Äôs linear acceleration.\nWe need to get rid of \\(P\\) and \\(N\\). To do that we sum the moments about the centroid of the pendulum to get the following equation: \\[\\begin{equation}\n-Pl\\sin\\theta-Nl\\cos\\theta=I\\ddot{\\theta}\n\\end{equation}\\]\n\n\\(I\\) is the mass moment of inertia of the pendulum.\n\nCombining these last two expressions, we get the vertical forces of the system: \\[\\begin{equation}\n(I+ml^2)\\ddot{\\theta}+mgl\\sin\\theta=-ml\\ddot{x}\\cos\\theta\n\\label{eq:vertical}  \\tag{2}\n\\end{equation}\\]\nIn our case \\(I=m(\\frac{l}{2})^2\\), (you can look up the moment of inertia for different shaped objects)."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ü§ñ Welcome!",
    "section": "",
    "text": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control\n\n\n\n\n\n\n\ncontrol\n\n\n\n\n\n\n\n\n\n\n\nJul 29, 2023\n\n\nBruno Englert\n\n\n14 min\n\n\n\n\n\n\n  \n\n\n\n\n2D Physics of The Inverted Pendulum on a Cart\n\n\n\n\n\n\n\nsim\n\n\n\n\n\n\n\n\n\n\n\nJul 26, 2023\n\n\nBruno Englert\n\n\n7 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "",
    "text": "With some practice, it‚Äôs possible to balance a broom upright in our hand, relying largely on intuition rather than accurate measurements. Yet, the dynamics behind this seemingly simple act are more intricate than they appear. From an engineering perspective, this balancing act is analogous to the inverted pendulum, a classic problem in control theory.\nThe inverted pendulum is a system consisting of a tall rod, like our broom, but this time, it‚Äôs attached to a horizontally moving cart. The objective? Keep the rod upright, compensating for any disturbances that might knock it off balance. This control problem is complex due to the numerous degrees of freedom involved, but still straightforward enough to understand and simulate.\nWhile mathematical solutions exist to keep the pendulum vertically upright, they require precise knowledge of the system‚Äôs parameters. Yet when we balance a broom, humans are clearly not relying on a mathematical model that depends on highly accurate measurements of angles and velocities. This suggests that for the inverted pendulum problem, it‚Äôs possible to design a successful controller without depending on precise measurements.\nWhat if we wanted to introduce an element of that human intuition into our control systems? Enter fuzzy logic‚Äîa method that resembles human reasoning by working with concepts that aren‚Äôt strictly true or false but lie somewhere in between. For example, instead of processing exact numerical values, a fuzzy logic system might consider values like ‚Äúalmost upright‚Äù or ‚Äúslightly tilted.‚Äù This approach offers flexibility, especially when precise data is unavailable or when a system needs to adjust to unforeseen challenges.\nIn the early 2000s, the number and variety of fuzzy logic applications increased significantly. They ranged from consumer products such as cameras, camcorders, washing machines, and microwave ovens to industrial process control, medical instrumentation, decision-support systems, and portfolio selection. Unlike standard logic, where variables can only take two values‚ÄîTrue or False‚Äîfuzzy logic describes things in a vaguer form. Its variables can range between 0 and 1, characterizing a variable‚Äôs membership to a particular value. For instance, describing weather as ‚Äú0.72 sunny and 0.18 cloudy‚Äù provides more information than simply stating ‚Äúthe weather today is sunny but not cloudy.‚Äù With fuzzy variables, one can construct operations known as fuzzy rules. These rules resemble human thinking and are structured as ‚ÄúIf ‚Ä¶ then‚Ä¶‚Äù However, translating these rules into a soft mathematical form suitable for machine processing is essential.\n\n\n\nFigure 1: Forces in the free-body diagram\n\n\nReturning to our inverted pendulum on a cart problem, this system can be seen in Figure 1. Intuitively, the control force \\(F\\) should be determined by the magnitudes of the input variables \\(\\phi\\) and \\(\\dot{\\phi}\\), which measure the angle of the pendulum from the upright position and its angular velocity, respectively. Using fuzzy logic, the relationship between these variables becomes linguistic, a much weaker form than exact measurements. Leveraging these linguistic variables, we can establish rules that determine the control \\(F\\) using common sense knowledge. These rules can look like such as ‚ÄúIf \\(\\phi\\) is very small, then \\(F\\) should be small,‚Äù or ‚ÄúIf the pendulum is balanced, then hold very still, meaning do not apply any force.‚Äù"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#linguistic-variables",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#linguistic-variables",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "Linguistic Variables",
    "text": "Linguistic Variables\nLinguistic variables are either the input or output variables of the system. Their values are words or sentences from natural language, not numerical values. Typically, a linguistic variable is broken down into a set of linguistic terms. For example, in the context of an inverted pendulum, let the angle \\(\\phi\\) be the linguistic variable symbolizing the angle formed with the upper vertical position. To qualify the angle, we naturally use linguistic terms such as ‚Äúslightly slanted‚Äù and ‚Äúfalling over‚Äù. Using this intuition, we can define a mapping functions, such as \\(\\phi(t)=\\) {negative big (NB) angle, negative medium (NM) angle, negative small (NS) angle, positive small (PS) angle, positivev medium (PM) angle, and positive big (PB) angle}. This can be the set of decomposition for the linguistic variable angle. Each member of this decomposition is called a linguistic term and can cover a portion of the overall values of the angle."
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#membership-functions",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#membership-functions",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "Membership Functions",
    "text": "Membership Functions\nMembership functions are used in the fuzzification and defuzzification steps of the fuzzy logic system, to map the non-fuzzy input values to fuzzy linguistic terms and vice versa. A membership function quantifies a linguistic term. For instance, Figure [fig:Membership-funtions-of-angle] shows the membership functions for the linguistic terms of the angle variable. An important characteristic of fuzzy logic is that a numerical value does not have to be fuzzified using only one membership function. In other words, a value can belong to multiple sets at the same time. For example, according to Figure [fig:Membership-funtions-of-angle], an angle value can be considered as ‚Äúnegative small‚Äù and ‚Äúnegative medium‚Äù at the same time, with different degrees of memberships."
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#fuzzy-rules",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#fuzzy-rules",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "Fuzzy Rules",
    "text": "Fuzzy Rules\nWithin a fuzzy logic system, a rule base is constructed to control the output variable. A fuzzy rule is a simple IF-THEN rule with a condition and a conclusion."
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#fuzzy-set-operations",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#fuzzy-set-operations",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "Fuzzy Set Operations",
    "text": "Fuzzy Set Operations\nThe evaluations of the fuzzy rules and the combination of the results of the individual rules are performed using fuzzy set operations. The operations on fuzzy sets are different from the operations on non-fuzzy sets. Let \\(\\mu_A\\) and \\(\\mu_B\\) represent the membership functions for fuzzy sets \\(A\\) and \\(B\\). Unlike in conventional Boolean algebra we can have different definitions for the logic operator. The table below lists potential fuzzy operations for OR and AND operators:\n\n\n\n\n\n\n\n\n\n\nOR (Union)\n\nAND (Intersection)\n\n\n\n\nMAX\n\\(Max\\{\\mu_A(x), \\mu_B(x)\\}\\)\nMIN\n\\(Min\\{\\mu_A(x), \\mu_B(x)\\}\\)\n\n\nASUM\n\\(\\mu_A(x) + \\mu_B(x) - \\mu_A(x) \\mu_B(x)\\)\nPROD\n\\(\\mu_A(x) \\mu_B(x)\\)\n\n\nBSUM\n\\(Min\\{1, \\mu_A(x) + \\mu_B(x)\\}\\)\nBDIF\n\\(Max\\{0, \\mu_A(x) + \\mu_B(x) - 1\\}\\)\n\n\n\nAfter evaluating the result of each rule, these results need to be merged to obtain a final result. This process is called inference. There are different methods that can combine the outcomes of individual rules. The table below contains possible accumulation methods that are used to combine the results of individual rules. The MAX operator is typically used for accumulation.\n\n\n\n\n\n\n\nOperation\nFormula\n\n\n\n\nMaximum\n\\(Max\\{\\mu_A(x),\\mu_B(x)\\}\\)\n\n\nBounded sum\n\\(Min\\{1, \\mu_A(x)+\\mu_B(x)\\}\\)\n\n\nNormalized sum\n\\(\\frac{\\mu_A(x)+\\mu_B(x)}{Max\\{1,Max\\{\\mu_A(x^{'}),\\mu_B(x^{'})\\}\\}}\\)"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#defuzzification",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#defuzzification",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "Defuzzification",
    "text": "Defuzzification\nThe final step is defuzzification. Following the inference step, we are left with a fuzzy value. This value must be transformed aka defuzzified, to yield our control output. Defuzzification is carried out based on the membership function of the output variable. The result of the inference step is illustrated on Figure 3, where the shaded areas collectively represent the fuzzy outcome. Our objective is to extract a definitive value from this fuzzy representation. This is denoted by a dot in the figure. The defuzzification process is depicted in Figure 3. Several algorithms exist for defuzzification, where the most commonly used algorithms are listed in this table:\n\n\n\n\n\n\n\nOperation\nFormula\n\n\n\n\nCenter of Gravity\n\\(\\frac{\\int_{min}^{max}u\\mu(u) du}{\\int_{min}^{max}\\mu(u)du}\\)\n\n\nCenter of Gravity for Singletons\n\\(\\frac{\\sum_{i=1}^{p}[\\mu_iu_i]}{\\sum_{i=1}^{p}[\\mu_i]}\\)\n\n\n\n\n\n\nFigure 3: Defuzzification"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#input-parameters-and-fuzzification",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#input-parameters-and-fuzzification",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "1. Input Parameters and Fuzzification",
    "text": "1. Input Parameters and Fuzzification\nIn the fuzzy control system designed for this application, the primary inputs are the angle \\(\\phi\\) and angular speed \\(\\dot\\phi\\). These values represent the current state of the system and serve as the basis for our fuzzy logic evaluations.\nTo make these numerical inputs compatible with the fuzzy control system, they need to be fuzzified. Fuzzification is the process of assigning a degree of membership to each value in a set. For our system, the membership functions used are Gaussian in nature and are defined as: \\(f(x)=e^\\frac{-(x-a)^2}{2\\sigma^2}\\)\nThe fuzzified values are then categorized into six linguistic variables, represented as: - NB (Negative Big) - NM (Negative Medium) - NS (Negative Small) - PS (Positive Small) - PM (Positive Medium) - PB (Positive Big)\nOne might wonder, that if we have access to accurate measurements, which is the case in this simulation since we are running a simulation, why would we intentionally get rid of accurate measurements? The reason is that this is just a toy example for fuzzy control logic, and even though we have accurate measurements, we are not going to take advantage of this fact.\n\n\n\nFigure 4: Membership functions of angle\n\n\n\n\n\nFigure 5: Membership functions of angular speed"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#rule-base-construction",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#rule-base-construction",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "2. Rule Base Construction",
    "text": "2. Rule Base Construction\nUsing the these linguistic variables, we construct a comprehensive rule base, as outlined in the table below:\n\n\n\n\\(\\phi\\textbackslash\\dot{\\phi}\\)\nNB\nNM\nNS\nPS\nPM\nPB\n\n\n\n\nNB\nNB\nNB\nNB\nNM\nNS\nPS\n\n\nNM\nNB\nNB\nNM\nNS\nPS\nPS\n\n\nNS\nNB\nNM\nNS\nPS\nPS\nPM\n\n\nPS\nNM\nNS\nNS\nPS\nPM\nPB\n\n\nPM\nNS\nNS\nPS\nPM\nPB\nPB\n\n\nPB\nNS\nPS\nPM\nPB\nPB\nPB\n\n\n\nThis rule table should be read the following way:\n‚Ä¢ \\(\\textbf{\\textit{IF angle is NB and angular speed is NB then the control force is NB.}}\\)\n‚Ä¢ \\(\\textbf{\\textit{IF angle is NB and angular speed is NM then the control force is NB.}}\\)\n\\(\\vdots\\)\n‚Ä¢ \\(\\textbf{\\textit{IF angle is PB and angular speed is PB then the control force is PB.}}\\)"
  },
  {
    "objectID": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#defuzzification-1",
    "href": "posts/2_fuzzy_control/englert_ai_2_fuzzy_control.html#defuzzification-1",
    "title": "Balancing the Inverted Pendulum: An Introduction to Fuzzy Logic Control",
    "section": "3. Defuzzification",
    "text": "3. Defuzzification\nAfter establishing the membership values for each control force label (NB, NM, NS, PS, PM, PB), we proceed to the defuzzification step. This is crucial as the fuzzy logic system produces outputs in the form of a range of values, which needs to be translated into a distinct scalar output to implement in real-world systems.\nFor this purpose, the Centre of Gravity for Singletons operation is employed. This algorithm computes a crisp value, representing the control force to be applied to the cart. In simpler terms, based on the fuzzy outputs and the associated membership values, it calculates a single, unambiguous control force that best represents the desired action."
  },
  {
    "objectID": "archive.html",
    "href": "archive.html",
    "title": "Archive",
    "section": "",
    "text": "No matching items"
  }
]